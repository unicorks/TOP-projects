<!-- notes
1. make grid in same space eg 960 pixels
2. add hover wala event listener to change bg color of div
3. add options for nice ui
bg color picker, pen color picker, eraser, rainbow mode, make colors darker/lighter mode -->
<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etch-a-Sketch</title>
</head>
<body>
    <div class="flex-container1">
        <div class="grid-container"></div>
        <div class="flex-container2">
            <div class="form-group">
                <input autocomplete="off" autofocus class="form-control" class="side" placeholder="Grid dimensions" type="number">
            </div>
            <button class="btn btn-primary dim" type="submit">Create!</button>
            <div class="form-group">
                <label for="favcolor">Select cursor color:</label>
                <input type="color" id="color">
            </div>
            <div class="form-group">
                <label for="favcolor">Select background color:</label>
                <input type="color" id="bgcolor">
            </div>

        </div>
    </div>
</body>

<script>
    function createGrid(times, gridbox) {
        for (let i = 0; i < (times*times); i++) {
            const div = document.createElement("div")
            div.classList.add('grid-item')
            div.setAttribute('style', `border: ${times*(2/100)}px solid #AAA;`)
            gridbox.appendChild(div);
        }
        let auto = 'auto '
        gridbox.setAttribute('style', `grid-template-columns: ${auto.repeat(times).trimEnd()};`)
        console.log('ok')
    }
    function changeColor(color='black') {
        let items = document.querySelectorAll('.grid-item')
        items.forEach((item) => {
            item.addEventListener('mouseover', () => {
                item.setAttribute('style', `background-color: ${color} !important; border: ${color} !important`)
            })
        })
    }

    const container = document.querySelector('.grid-container')
    createGrid(20, container)
    changeColor()

    // makes grid of custom size
    document.querySelector('.dim').addEventListener('click', function(){
        let side = parseInt(document.querySelector('input.side').value)
        container.replaceChildren()
        createGrid(side, container)
        changeColor()
    })

    let penColorInput = document.getElementById('color');
    penColorInput.addEventListener('input', () =>{
        changeColor(penColorInput.value)
    });

    let bgColorInput = document.getElementById('bgcolor');
    bgColorInput.addEventListener('input', () =>{
    let items = document.querySelectorAll('.grid-item')
    items.forEach((item) => {
        item.style.backgroundColor = bgColorInput.value
    })
    });

</script>

<style>
    .grid-container {
        display: inline-grid;
        width: 480px;
        height: 480px;
        border: 2px solid black;
    }
    .grid-item {
        background-color: aquamarine;
    }
    .flex-container1 {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-around;
        row-gap: 30px;
    }
</style>
</html>